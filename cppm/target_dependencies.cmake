macro(cppm_target_dependencies)
    cmake_parse_arguments(ARG "" "" "PRIVATE;PUBLIC;INTERFACE" ${ARGN})
    list(GET ARG_UNPARSED_ARGUMENTS 0 name)

    set(_D_${name})
    if(DEFINED ARG_PUBLIC)
        foreach(pub IN LISTS ARG_PUBLIC)
            if(NOT DEFINED _M_${pub})
                set(_M_${pub} ${name})
            endif()
            target_link_libraries(${name} PUBLIC ${_M_${pub}})
            cppm_print("cppm <== ${pub}/${_V_${pub}}")
        endforeach()
        list(APPEND _D_${name} "${ARG_PUBLIC}")
    endif() 
    if(DEFINED ARG_PRIVATE)
        foreach(pri IN LISTS ARG_PRIVATE)
            if(NOT DEFINED _M_${pri})
                set(_M_${pri} ${name})
            endif()
            target_link_libraries(${name} PRIVATE ${_M_${pri}})
            cppm_print("cppm <== ${pri}/${_V_${pub}}")
        endforeach()
        list(APPEND _D_${name} "${ARG_PRIVATE}")
    endif()
    if(DEFINED ARG_INTERFACE)
        foreach(intf IN LISTS ARG_INTERFACE)
            if(NOT DEFINED _M_${intf})
                set(_M_${intf} ${name})
            endif()
            target_link_libraries(${name} INTERFACE ${_M_${intf}})
            cppm_print("cppm <== ${intf}/${_V_${pub}}")
        endforeach()
        list(APPEND _D_${name} "${ARG_INTERFACE}")
    endif()
endmacro()

    #if(has_deps)
    #    set(deps)
    #    string(REPLACE " " "\n-- [cppm]    " pub_dep "${ARG_PRIVATE}")
    #    string(REPLACE ";" "\n-- [cppm]    " pub_dep "${ARG_PRIVATE}")
    #    list(APPEND deps "${pub_dep}")
    #    string(REPLACE " " "\n-- [cppm]    " pri_dep "${ARG_PUBLIC}")
    #    string(REPLACE ";" "\n-- [cppm]    " pri_dep "${ARG_PUBLIC}")
    #    list(APPEND deps "${pri_dep}")
    #    string(REPLACE " " "\n-- [cppm]    " int_dep "${ARG_INTERFACE}")
    #    string(REPLACE ";" "\n-- [cppm]    " int_dep "${ARG_INTERFACE}")
    #    list(APPEND deps "${int_dep}")
    #    string(REPLACE ";" " " deps "${deps}")
    #    message(STATUS "[cppm] Dependencies:")
    #    message(STATUS "[cppm]    ${deps}")
    #endif()
