function(cppm_target_dependencies)
    cmake_parse_arguments(ARG "" "" "PRIVATE;PUBLIC;INTERFACE" ${ARGN})
    list(GET ARG_UNPARSED_ARGUMENTS 0 name)
    get_target_property(is_test ${name}_info CPPM_IS_TEST)
    if(TARGET ${name})
        if(DEFINED ARG_PUBLIC)
            foreach(dep IN LISTS ARG_PUBLIC)
                get_target_property(module ${dep}_info CPPM_MODULE)
                target_link_libraries(${name} PUBLIC ${module})
                get_target_property(desc ${dep}_info CPPM_DESCRIPTION)
                if(NOT is_test)
                    cppm_print("${name} <== ${desc}")
                endif()
            endforeach()
            set_property(TARGET ${name} APPEND PROPERTY CPPM_DEPENDENCIES ${ARG_PUBLIC})
        endif() 
        if(DEFINED ARG_PRIVATE)
            foreach(dep IN LISTS ARG_PRIVATE)
                get_target_property(module ${dep}_info CPPM_MODULE)
                target_link_libraries(${name} PRIVATE ${module})
                get_target_property(desc ${dep}_info CPPM_DESCRIPTION)
                if(NOT is_test)
                    cppm_print("${name} <== ${desc}")
                endif()
            endforeach()
            set_property(TARGET ${name} APPEND PROPERTY CPPM_DEPENDENCIES ${ARG_PRIVATE})
        endif()
        if(DEFINED ARG_INTERFACE)
            foreach(dep IN LISTS ARG_INTERFACE)
                get_target_property(module ${dep}_info CPPM_MODULE)
                target_link_libraries(${name} INTERFACE ${module})
                get_target_property(desc ${dep}_info CPPM_DESCRIPTION)
                if(NOT is_test)
                    cppm_print("${name} <== ${desc}")
                endif()
            endforeach()
            set_property(TARGET ${name}_info APPEND PROPERTY CPPM_DEPENDENCIES ${ARG_INTERFACE})
        endif()
    endif()
endfunction()
